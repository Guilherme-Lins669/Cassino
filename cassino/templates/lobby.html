{% extends 'base.html' %}
{% block content %}
<div class="topbar">
  <div class="left">
    <!-- BotÃ£o com nome do usuÃ¡rio e dropdown -->
    <div class="user-dropdown" id="userDropdown">
      <button id="userBtn" class="user-btn">{{ username }} â–¾</button>
      <div class="dropdown-content" id="dropdownMenu" style="display:none;">
        <button id="depositOpenBtn">ğŸ’° Depositar</button>
        <a href="{{ url_for('logout') }}" id="logoutBtn">ğŸšª Sair</a>
      </div>
    </div>
  </div>
  <div class="right">
    <span>Saldo: R$ <span id="saldo">{{ '%.2f'|format(saldo) }}</span></span>
  </div>
</div>

<main class="container">
  <h1>Lobby de Minigames</h1>
  <nav>
      <a href="{{ url_for('game', game_name='foguete') }}">ğŸš€ Foguete (0.25x)</a>
      <a href="{{ url_for('game', game_name='campo_minado') }}">ğŸ’£ Campo Minado (0.5x)</a>
      <a href="{{ url_for('game', game_name='caca_niqueis') }}">ğŸ° CaÃ§a NÃ­queis</a>
      <a href="{{ url_for('game', game_name='roleta') }}">ğŸ¡ Roleta (3x)</a>
      <a href="{{ url_for('game', game_name='dados') }}">ğŸ² Dados (5x)</a>
  </nav>

  <p><a href="{{ url_for('history') }}">ğŸ“œ Ver histÃ³rico</a></p>

  <!-- Modal de depÃ³sito (nÃ£o redireciona) -->
  <div id="depositModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" id="depositClose">&times;</span>
      <h3>Depositar</h3>
      <p>DepÃ³sito mÃ­nimo inicial: R$ 50</p>
      <form id="deposit-form">
        <label for="amount">Quanto deseja depositar (R$)?</label>
        <input id="amount" name="amount" type="number" step="0.01" min="0.01" required>
        <button type="submit">Depositar</button>
      </form>
      <p id="depositError" class="error" style="display:none;"></p>
    </div>
  </div>
</main>
{% endblock %}
